# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„

```
DailyDigest/
â”œâ”€â”€ app/                           # æ ¸å¿ƒåº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ api/                       # APIç«¯ç‚¹
â”‚   â”‚   â””â”€â”€ endpoints/             # å…·ä½“çš„APIå®ç°
â”‚   â”œâ”€â”€ config/                    # é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ crawlers/                  # çˆ¬è™«æ¨¡å— â­
â”‚   â”‚   â”œâ”€â”€ base/                  # åŸºç¡€çˆ¬è™«ç±»
â”‚   â”‚   â”œâ”€â”€ wechat/                # å¾®ä¿¡å…¬ä¼—å·çˆ¬è™«
â”‚   â”‚   â”‚   â”œâ”€â”€ playwright_wechat_crawler.py
â”‚   â”‚   â”‚   â””â”€â”€ wechat_article_processor.py
â”‚   â”‚   â””â”€â”€ parsers/               # æ–‡ç« è§£æå™¨
â”‚   â”‚       â”œâ”€â”€ security_digest_parser.py
â”‚   â”‚       â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ db/                        # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â””â”€â”€ migrations/            # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ models/                    # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/                  # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ static/                    # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ fonts/
â”‚   â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ pdf/
â”‚   â””â”€â”€ templates/                 # Jinja2æ¨¡æ¿
â”œâ”€â”€ data/                          # æ•°æ®æ–‡ä»¶ â­
â”‚   â”œâ”€â”€ outputs/                   # ç”Ÿæˆçš„å¿«æŠ¥è¾“å‡º
â”‚   â”œâ”€â”€ logs/                      # æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ wechat_articles/           # çˆ¬å–çš„å¾®ä¿¡æ–‡ç« 
â”‚   â”œâ”€â”€ processed_articles/        # å¤„ç†åçš„æ–‡ç« 
â”‚   â”œâ”€â”€ parsed_news/               # è§£æåçš„æ–°é—»
â”‚   â””â”€â”€ *.md, *.pdf               # å„ç§å¿«æŠ¥æ–‡ä»¶
â”œâ”€â”€ docs/                          # é¡¹ç›®æ–‡æ¡£ â­
â”‚   â”œâ”€â”€ README.md                  # ä¸»è¦æ–‡æ¡£
â”‚   â”œâ”€â”€ SCHEDULER_README.md        # è°ƒåº¦å™¨æ–‡æ¡£
â”‚   â”œâ”€â”€ PLAYWRIGHT_PDF_UPDATE.md   # PDFç”ŸæˆåŠŸèƒ½æ–‡æ¡£
â”‚   â””â”€â”€ *.md                      # å…¶ä»–åŠŸèƒ½æ–‡æ¡£
â”œâ”€â”€ scripts/                       # è„šæœ¬ç›®å½• â­
â”‚   â”œâ”€â”€ database/                  # æ•°æ®åº“ç›¸å…³è„šæœ¬
â”‚   â”œâ”€â”€ debug/                     # è°ƒè¯•å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ maintenance/               # ç»´æŠ¤å·¥å…·è„šæœ¬
â”œâ”€â”€ tests/                         # æµ‹è¯•ä»£ç  â­
â”œâ”€â”€ tools/                         # å·¥å…·è„šæœ¬ â­
â”‚   â””â”€â”€ clear_news.py             # æ¸…ç†æ–°é—»æ•°æ®å·¥å…·
â”œâ”€â”€ typora_md_github_theme/        # Typoraä¸»é¢˜
â”œâ”€â”€ run.py                         # åº”ç”¨å¯åŠ¨å…¥å£
â”œâ”€â”€ requirements.txt               # Pythonä¾èµ–
â”œâ”€â”€ .env                          # ç¯å¢ƒé…ç½®ï¼ˆéœ€åˆ›å»ºï¼‰
â””â”€â”€ daily_digest.db               # SQLiteæ•°æ®åº“
```

## ğŸ”„ é‡æ„å˜åŒ–

### âœ… æ–°å¢ç›®å½•
- `app/crawlers/` - çˆ¬è™«ç›¸å…³ä»£ç æ¨¡å—åŒ–
- `data/` - ç»Ÿä¸€æ•°æ®æ–‡ä»¶å­˜å‚¨
- `docs/` - é›†ä¸­é¡¹ç›®æ–‡æ¡£
- `scripts/` - è„šæœ¬å·¥å…·åˆ†ç±»
- `tests/` - æµ‹è¯•ä»£ç ä¸“ç”¨ç›®å½•

### ğŸ“¦ æ¨¡å—åŒ–æ”¹è¿›
- **çˆ¬è™«æ¨¡å—** (`app/crawlers/`):
  - `wechat/` - å¾®ä¿¡å…¬ä¼—å·ç›¸å…³çˆ¬è™«
  - `parsers/` - æ–‡ç« è§£æå™¨
  - `base/` - åŸºç¡€çˆ¬è™«ç±»ï¼ˆé¢„ç•™æ‰©å±•ï¼‰

### ğŸ”— å¼•ç”¨æ›´æ–°
åŸæ¥çš„æ–‡ä»¶å¼•ç”¨å·²æ›´æ–°ä¸ºæ–°çš„æ¨¡å—è·¯å¾„ï¼š

```python
# ä¹‹å‰
from playwright_wechat_crawler import WechatArticleCrawler
from parsers.security_digest_parser import SecurityDigestParser

# ç°åœ¨
from app.crawlers.wechat.playwright_wechat_crawler import WechatArticleCrawler
from app.crawlers.parsers.security_digest_parser import SecurityDigestParser
```

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### å¯åŠ¨åº”ç”¨
```bash
python run.py
```

### å¯¼å…¥çˆ¬è™«æ¨¡å—
```python
# æ–¹å¼1ï¼šç›´æ¥å¯¼å…¥
from app.crawlers.wechat.playwright_wechat_crawler import WechatArticleCrawler

# æ–¹å¼2ï¼šä»ä¸»æ¨¡å—å¯¼å…¥
from app.crawlers import WechatArticleCrawler, SecurityDigestParser
```

### é¡¹ç›®æ‰©å±•
- æ·»åŠ æ–°çˆ¬è™«ï¼šåœ¨ `app/crawlers/` ä¸‹åˆ›å»ºå¯¹åº”ç›®å½•
- æ·»åŠ æ–°è§£æå™¨ï¼šåœ¨ `app/crawlers/parsers/` ä¸‹æ·»åŠ æ–‡ä»¶
- æ·»åŠ å·¥å…·è„šæœ¬ï¼šåœ¨ `scripts/` ç›¸åº”å­ç›®å½•ä¸‹æ·»åŠ 
- æ·»åŠ æµ‹è¯•ï¼šåœ¨ `tests/` ç›®å½•ä¸‹æ·»åŠ æµ‹è¯•æ–‡ä»¶

## ğŸ¯ ä¼˜åŠ¿

1. **æ¨¡å—åŒ–æ¸…æ™°**ï¼šä¸åŒåŠŸèƒ½åˆ†æ¨¡å—ç»„ç»‡
2. **æ‰©å±•æ€§å¥½**ï¼šæ–°åŠŸèƒ½å®¹æ˜“æ·»åŠ å’Œç»´æŠ¤
3. **æ–‡æ¡£é›†ä¸­**ï¼šæ‰€æœ‰æ–‡æ¡£ç»Ÿä¸€ç®¡ç†
4. **æ•°æ®åˆ†ç±»**ï¼šè¾“å…¥è¾“å‡ºæ•°æ®åˆ†ç±»å­˜å‚¨
5. **å·¥å…·åˆ†ç±»**ï¼šè„šæœ¬å’Œå·¥å…·æŒ‰åŠŸèƒ½åˆ†ç±» 